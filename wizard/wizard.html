<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Wizard - Tourism Admin Management System</title>
    <link rel="stylesheet" href="../assets/css/styles.css">
    <link rel="stylesheet" href="wizard.css">
</head>
<body>
    <!-- Sidebar -->
    <aside class="sidebar">
        <div class="sidebar-header">
            <div class="sidebar-logo">Tourism Admin</div>
        </div>
        <ul class="sidebar-menu">
            <li><a href="../index.html">
                <span class="sidebar-menu-icon">ðŸ“Š</span>
                <span>Main</span>
            </a></li>
            <li><a href="../analytics/analytics.html">
                <span class="sidebar-menu-icon">ðŸ“ˆ</span>
                <span>Analytics</span>
            </a></li>
            <li><a href="wizard.html" class="active">
                <span class="sidebar-menu-icon">âœ¨</span>
                <span>Wizard</span>
            </a></li>
        </ul>
    </aside>

    <!-- Top Navigation -->
    <nav class="top-nav">
        <div class="top-nav-title">Create Travel Package</div>
        <div class="profile-menu">
            <div class="profile-avatar">AD</div>
            <div>
                <div class="profile-name">Admin User</div>
                <div class="profile-role">Administrator</div>
            </div>
        </div>
    </nav>

    <!-- Main Content -->
    <main class="main-content">
        <div class="wizard-container">
            <div class="wizard-header">
                <h1 class="wizard-title">Create Travel Package</h1>
                <p class="wizard-subtitle">Follow the steps below to create a new travel package with all components</p>
            </div>

            <!-- Progress Bar -->
            <div class="progress-bar">
                <div class="progress-fill" style="width: 14.3%;" id="progressFill"></div>
            </div>

            <!-- Process Timeline -->
            <div class="card timeline-card">
                <div class="process-timeline">
                    <div class="timeline-line">
                        <div class="timeline-progress-fill" id="wizard-timeline-progress-fill"></div>
                    </div>
                    <div class="timeline-step pending" data-step="1">
                        <div class="timeline-marker"></div>
                        <div class="timeline-label">Guest Info</div>
                    </div>
                    <div class="timeline-step pending" data-step="2">
                        <div class="timeline-marker"></div>
                        <div class="timeline-label">Package</div>
                    </div>
                    <div class="timeline-step pending" data-step="3">
                        <div class="timeline-marker"></div>
                        <div class="timeline-label">Air Travel</div>
                    </div>
                    <div class="timeline-step pending" data-step="4">
                        <div class="timeline-marker"></div>
                        <div class="timeline-label">Accommodation</div>
                    </div>
                    <div class="timeline-step pending" data-step="5">
                        <div class="timeline-marker"></div>
                        <div class="timeline-label">Tours</div>
                    </div>
                    <div class="timeline-step pending" data-step="6">
                        <div class="timeline-marker"></div>
                        <div class="timeline-label">Visas</div>
                    </div>
                    <div class="timeline-step pending" data-step="7">
                        <div class="timeline-marker"></div>
                        <div class="timeline-label">Confirmation</div>
                    </div>
                </div>
            </div>

            <!-- Step Content -->
            <div class="card">
                <!-- Step 1: Guest Information -->
                <div class="step-section active" id="step1">
                    <h3 class="step-section-title">Guest Information</h3>
                    <div class="form-row">
                        <div class="form-group">
                            <label class="form-label">Full Name *</label>
                            <input type="text" class="form-control" id="wiz-guest-name" name="full_name" placeholder="Enter full name" maxlength="200" required>
                        </div>
                        <div class="form-group">
                            <label class="form-label">Phone Number *</label>
                            <input type="text" class="form-control" id="wiz-guest-phone" name="phone_number" placeholder="Enter phone number" maxlength="20" required>
                        </div>
                    </div>
                    <div class="form-row">
                        <div class="form-group">
                            <label class="form-label">Country of Residence *</label>
                            <input type="text" class="form-control" id="wiz-guest-country" name="country_of_residence" placeholder="Enter country" maxlength="100" list="country-list" required>
                            <datalist id="country-list">
                                <!-- Countries will be populated from localStorage -->
                            </datalist>
                        </div>
                        <div class="form-group">
                            <label class="form-label">Status *</label>
                            <select class="form-control" id="wiz-guest-status" name="status" required>
                                <option value="guest" selected>Guest</option>
                                <option value="client">Client</option>
                            </select>
                        </div>
                    </div>
                    <div class="form-group">
                        <label class="form-label">Passport Image</label>
                        <div class="file-upload-wrapper">
                            <div class="file-upload-btn">
                                <span>ðŸ“·</span>
                                <span>Choose File</span>
                            </div>
                            <input type="file" class="file-upload-input" id="wiz-guest-passport" name="passport_image" accept="image/*">
                        </div>
                        <div class="file-upload-hint">Upload passport image (PNG, JPG, GIF up to 10MB)</div>
                    </div>
                </div>

                <!-- Step 2: Package Information -->
                <div class="step-section" id="step2">
                    <h3 class="step-section-title">Travel Package Information</h3>
                    <div class="form-row">
                        <div class="form-group">
                            <label class="form-label">Package Name</label>
                            <input type="text" class="form-control" id="wiz-package-name" name="package_name" placeholder="Enter package name (optional)" maxlength="200">
                        </div>
                        <div class="form-group">
                            <label class="form-label">Status *</label>
                            <select class="form-control" id="wiz-package-status" name="status" required>
                                <option value="draft" selected>Draft</option>
                                <option value="quotation_sent">Quotation Sent</option>
                                <option value="contract_sent">Contract Sent</option>
                                <option value="confirmed">Confirmed</option>
                                <option value="completed">Completed</option>
                                <option value="cancelled">Cancelled</option>
                            </select>
                        </div>
                    </div>
                    <div class="form-group">
                        <label class="form-label">Total Estimated Cost</label>
                        <input type="number" class="form-control" id="wiz-package-cost" name="total_estimated_cost" placeholder="0.00" step="0.01" min="0" value="0.00">
                    </div>
                </div>

                <!-- Step 3: Air Travel -->
                <div class="step-section" id="step3">
                    <h3 class="step-section-title">Air Travel Information</h3>
                    <div class="form-row">
                        <div class="form-group">
                            <label class="form-label">Preferred Airline</label>
                            <input type="text" class="form-control" id="wiz-air-airline" name="preferred_airline" placeholder="Enter preferred airline" maxlength="100" list="airline-list">
                            <datalist id="airline-list">
                                <!-- Airlines will be populated from localStorage -->
                            </datalist>
                        </div>
                        <div class="form-group">
                            <label class="form-label">Departure Date *</label>
                            <input type="date" class="form-control" id="wiz-air-dep-date" name="departure_date" required>
                        </div>
                    </div>
                    <div class="form-row">
                        <div class="form-group">
                            <label class="form-label">Departure Country *</label>
                            <input type="text" class="form-control" id="wiz-air-dep-country" name="departure_country" placeholder="Enter country" maxlength="100" list="country-list" required>
                        </div>
                        <div class="form-group">
                            <label class="form-label">Departure City *</label>
                            <input type="text" class="form-control" id="wiz-air-dep-city" name="departure_city" placeholder="Enter city" maxlength="100" list="city-list" required>
                            <datalist id="city-list">
                                <!-- Cities will be populated from localStorage -->
                            </datalist>
                        </div>
                    </div>
                    <div class="form-group">
                        <label class="form-label">Departure Airport *</label>
                        <input type="text" class="form-control" id="wiz-air-dep-airport" name="departure_airport" placeholder="Enter airport name" maxlength="200" list="airport-list" required>
                        <datalist id="airport-list">
                            <!-- Airports will be populated from localStorage -->
                        </datalist>
                    </div>
                    <div class="form-row">
                        <div class="form-group">
                            <label class="form-label">Destination Country *</label>
                            <input type="text" class="form-control" id="wiz-air-dest-country" name="destination_country" placeholder="Enter country" maxlength="100" list="country-list" required>
                        </div>
                        <div class="form-group">
                            <label class="form-label">Destination City *</label>
                            <input type="text" class="form-control" id="wiz-air-dest-city" name="destination_city" placeholder="Enter city" maxlength="100" list="city-list" required>
                        </div>
                    </div>
                    <div class="form-group">
                        <label class="form-label">Destination Airport *</label>
                        <input type="text" class="form-control" id="wiz-air-dest-airport" name="destination_airport" placeholder="Enter airport name" maxlength="200" list="airport-list" required>
                    </div>
                    <div class="form-row">
                        <div class="form-group">
                            <label class="form-label">Number of Adults</label>
                            <input type="number" class="form-control" id="wiz-air-adults" name="number_of_adults" placeholder="0" min="0" max="255" value="0">
                        </div>
                        <div class="form-group">
                            <label class="form-label">Number of Children</label>
                            <input type="number" class="form-control" id="wiz-air-children" name="number_of_children" placeholder="0" min="0" max="255" value="0">
                        </div>
                        <div class="form-group">
                            <label class="form-label">Number of Infants</label>
                            <input type="number" class="form-control" id="wiz-air-infants" name="number_of_infants" placeholder="0" min="0" max="255" value="0">
                        </div>
                    </div>
                    <div class="form-row">
                        <div class="form-group">
                            <label class="form-label">Trip Duration (Days) *</label>
                            <input type="number" class="form-control" id="wiz-air-days" name="trip_duration_days" placeholder="0" min="0" required>
                        </div>
                        <div class="form-group">
                            <label class="form-label">Trip Duration (Nights) *</label>
                            <input type="number" class="form-control" id="wiz-air-nights" name="trip_duration_nights" placeholder="0" min="0" required>
                        </div>
                        <div class="form-group">
                            <label class="form-label">Time of Travel *</label>
                            <select class="form-control" id="wiz-air-time" name="time_of_travel" required>
                                <option value="AM" selected>AM</option>
                                <option value="PM">PM</option>
                                <option value="Both">Both</option>
                            </select>
                        </div>
                    </div>
                    <div class="form-row">
                        <div class="form-group">
                            <label class="form-label">Transit Time (Hours)</label>
                            <input type="number" class="form-control" id="wiz-air-transit" name="transit_time_hours" placeholder="0.00" step="0.01" min="0" max="999.99">
                        </div>
                        <div class="form-group">
                            <label class="form-label">Estimated Cost</label>
                            <input type="number" class="form-control" id="wiz-air-cost" name="estimated_cost" placeholder="0.00" step="0.01" min="0" value="0.00">
                        </div>
                        <div class="form-group">
                            <label class="form-label">Lounges Access</label>
                            <select class="form-control" id="wiz-air-lounges" name="lounges_access">
                                <option value="0" selected>No</option>
                                <option value="1">Yes</option>
                            </select>
                        </div>
                    </div>
                    <div class="form-group">
                        <label class="form-label">Notes</label>
                        <textarea class="form-control" id="wiz-air-notes" name="notes" rows="3" placeholder="Additional notes"></textarea>
                    </div>
                </div>

                <!-- Step 4: Accommodation -->
                <div class="step-section" id="step4">
                    <h3 class="step-section-title">Accommodation Information</h3>
                    <div class="form-row">
                        <div class="form-group">
                            <label class="form-label">Accommodation Type *</label>
                            <select class="form-control" id="wiz-acc-type" name="accommodation_type" required>
                                <option value="">Select Type</option>
                                <option value="Apartment">Apartment</option>
                                <option value="Villa">Villa</option>
                                <option value="Hotel">Hotel</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label class="form-label">Number of Bedrooms *</label>
                            <input type="number" class="form-control" id="wiz-acc-bedrooms" name="number_of_bedrooms" placeholder="0" min="0" max="255" required>
                        </div>
                    </div>
                    <div class="form-row">
                        <div class="form-group">
                            <label class="form-label">Country *</label>
                            <input type="text" class="form-control" id="wiz-acc-country" name="country" placeholder="Enter country" maxlength="100" list="country-list" required>
                        </div>
                        <div class="form-group">
                            <label class="form-label">City *</label>
                            <input type="text" class="form-control" id="wiz-acc-city" name="city" placeholder="Enter city" maxlength="100" list="city-list" required>
                        </div>
                    </div>
                    <div class="form-row" id="wiz-acc-hotel-fields" style="display: none;">
                        <div class="form-group">
                            <label class="form-label">Star Rating</label>
                            <select class="form-control" id="wiz-acc-star-rating" name="star_rating">
                                <option value="">Select Rating</option>
                                <option value="1">1 Star</option>
                                <option value="2">2 Stars</option>
                                <option value="3">3 Stars</option>
                                <option value="4">4 Stars</option>
                                <option value="5">5 Stars</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label class="form-label">Bed Type</label>
                            <input type="text" class="form-control" id="wiz-acc-bed-type" name="bed_type" placeholder="Queen, Twin, Single, Double, etc." maxlength="50">
                        </div>
                    </div>
                    <div class="form-row">
                        <div class="form-group">
                            <label class="form-label">Cost *</label>
                            <input type="number" class="form-control" id="wiz-acc-cost" name="cost" placeholder="0.00" step="0.01" min="0" required>
                        </div>
                        <div class="form-group">
                            <label class="form-label">Check-in Date *</label>
                            <input type="date" class="form-control" id="wiz-acc-checkin" name="check_in_date" required>
                        </div>
                        <div class="form-group">
                            <label class="form-label">Check-out Date *</label>
                            <input type="date" class="form-control" id="wiz-acc-checkout" name="check_out_date" required>
                        </div>
                    </div>
                    <div class="form-group">
                        <label class="form-label">Notes</label>
                        <textarea class="form-control" id="wiz-acc-notes" name="notes" rows="3" placeholder="Additional notes"></textarea>
                    </div>
                </div>

                <!-- Step 5: Tours -->
                <div class="step-section" id="step5">
                    <h3 class="step-section-title">Tour Information</h3>
                    <div class="form-row">
                        <div class="form-group">
                            <label class="form-label">Tour Type *</label>
                            <select class="form-control" id="wiz-tour-type" name="tour_type" required>
                                <option value="">Select Type</option>
                                <option value="Group">Group</option>
                                <option value="Private">Private</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label class="form-label">Tour Number</label>
                            <input type="text" class="form-control" id="wiz-tour-number" name="tour_number" placeholder="Enter tour number" maxlength="100">
                        </div>
                    </div>
                    <div class="form-row">
                        <div class="form-group">
                            <label class="form-label">Country *</label>
                            <input type="text" class="form-control" id="wiz-tour-country" name="country" placeholder="Enter country" maxlength="100" list="country-list" required>
                        </div>
                        <div class="form-group">
                            <label class="form-label">City *</label>
                            <input type="text" class="form-control" id="wiz-tour-city" name="city" placeholder="Enter city" maxlength="100" list="city-list" required>
                        </div>
                    </div>
                    <div class="form-row">
                        <div class="form-group">
                            <label class="form-label">Number of Transfers</label>
                            <input type="number" class="form-control" id="wiz-tour-transfers" name="number_of_transfers" placeholder="0" min="0" value="0">
                        </div>
                        <div class="form-group">
                            <label class="form-label">Tour Date</label>
                            <input type="date" class="form-control" id="wiz-tour-date" name="tour_date">
                        </div>
                        <div class="form-group">
                            <label class="form-label">Cost</label>
                            <input type="number" class="form-control" id="wiz-tour-cost" name="cost" placeholder="0.00" step="0.01" min="0" value="0.00">
                        </div>
                    </div>
                    <div class="form-group">
                        <label class="form-label">Tour Description</label>
                        <textarea class="form-control" id="wiz-tour-description" name="tour_description" rows="4" placeholder="Description of the tour"></textarea>
                    </div>
                    <div class="form-group">
                        <label class="form-label">Notes</label>
                        <textarea class="form-control" id="wiz-tour-notes" name="notes" rows="3" placeholder="Additional notes"></textarea>
                    </div>
                </div>

                <!-- Step 6: Visas -->
                <div class="step-section" id="step6">
                    <h3 class="step-section-title">Visa Information</h3>
                    <div class="form-row">
                        <div class="form-group">
                            <label class="form-label">Country *</label>
                            <input type="text" class="form-control" id="wiz-visa-country" name="country" placeholder="Enter country" maxlength="100" list="country-list" required>
                        </div>
                        <div class="form-group">
                            <label class="form-label">Visa Type *</label>
                            <input type="text" class="form-control" id="wiz-visa-type" name="visa_type" placeholder="e.g., Tourist Visa, Business Visa" maxlength="100" list="visa-type-list" required>
                            <datalist id="visa-type-list">
                                <!-- Visa types will be populated from localStorage -->
                            </datalist>
                        </div>
                    </div>
                    <div class="form-row">
                        <div class="form-group">
                            <label class="form-label">Visa Status *</label>
                            <select class="form-control" id="wiz-visa-status" name="visa_status" required>
                                <option value="">Select Status</option>
                                <option value="Pending">Pending</option>
                                <option value="Done">Done</option>
                                <option value="Special Type">Special Type</option>
                                <option value="Rejected">Rejected</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label class="form-label">Cost</label>
                            <input type="number" class="form-control" id="wiz-visa-cost" name="cost" placeholder="0.00" step="0.01" min="0" value="0.00">
                        </div>
                    </div>
                    <div class="form-group">
                        <label class="form-label">Special Notes</label>
                        <textarea class="form-control" id="wiz-visa-notes" name="special_notes" rows="4" placeholder="Special notes or comments"></textarea>
                    </div>
                </div>

                <!-- Step 7: Confirmation -->
                <div class="step-section" id="step7">
                    <h3 class="step-section-title">Confirmation</h3>
                    <div class="confirmation-summary" id="wiz-summary">
                        <div class="summary-section">
                            <div class="summary-label">Guest Name</div>
                            <div class="summary-value" id="summary-guest-name">-</div>
                        </div>
                        <div class="summary-section">
                            <div class="summary-label">Package Name</div>
                            <div class="summary-value" id="summary-package-name">-</div>
                        </div>
                        <div class="summary-section">
                            <div class="summary-label">Package Status</div>
                            <div class="summary-value" id="summary-package-status">-</div>
                        </div>
                        <div class="summary-section">
                            <div class="summary-label">Air Travel</div>
                            <div class="summary-value" id="summary-air-travel">-</div>
                        </div>
                        <div class="summary-section">
                            <div class="summary-label">Accommodation</div>
                            <div class="summary-value" id="summary-accommodation">-</div>
                        </div>
                    </div>
                    <div class="form-check">
                        <input type="checkbox" id="wiz-confirm">
                        <label for="wiz-confirm" class="confirm-label">I confirm that all information is correct and ready to create the travel package</label>
                    </div>
                </div>

                <!-- Wizard Actions -->
                <div class="wizard-actions">
                    <button class="btn btn-secondary" id="backBtn" style="display: none;">Back</button>
                    <div class="wizard-actions-right">
                        <button class="btn btn-outline" id="saveDraftBtn">Save as Draft</button>
                        <button class="btn btn-primary" id="nextBtn">Next</button>
                    </div>
                </div>
            </div>
        </div>
    </main>

    <script src="../assets/js/api-service.js"></script>
    <script src="wizard.js"></script>
</body>
</html>
